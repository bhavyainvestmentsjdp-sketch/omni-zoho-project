<!doctype html>
<html>
  <head><meta charset="utf-8"><title>Bhavya Omni–Zoho Pro</title></head>
  <body style="font-family:system-ui,Segoe UI,Roboto,Arial">
    <h2>✅ Omni–Zoho Automation Server</h2>
    <p>Health: <a href="/health">/health</a></p>
    <h3>Trigger Outbound Call (demo)</h3>
    <form id="f">
      <input name="name" placeholder="Name" value="Test User">
      <input name="phone" placeholder="Phone" value="+919999999999">
      <select name="product_line">
        <option value="life_insurance">Life Insurance</option>
        <option value="health_insurance">Health Insurance</option>
        <option value="mutual_fund">Mutual Fund</option>
        <option value="property">Property</option>
      </select>
      <button type="submit">Dispatch Call</button>
    </form>
    <pre id="out"></pre>
    <script>
      const f = document.getElementById('f');
      const out = document.getElementById('out');
      f.addEventListener('submit', async (e) => {
        e.preventDefault();
        const fd = new FormData(f);
        const body = Object.fromEntries(fd.entries());
        const r = await fetch('/api/dispatch-call', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });
        out.textContent = await r.text();
      });
    </script>
  </body>
</html>
